<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>YOLOv8 - Training from Pretrained</title>
        <!-- Include Bootstrap CSS and JavaScript via CDN -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet">
        <!-- Include Prism.js CSS for syntax highlighting -->
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/themes/prism.min.css">
        <style>
        body {
            background-color: #f8f9fa;
            color: #495057;
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            transition: background-color 0.5s ease;
        }

        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.5s ease;
        }

        h1 {
            text-align: center;
            color: #007bff;
            transition: color 0.5s ease;
        }

        form {
            display: flex;
            flex-direction: column;
            transition: opacity 0.5s ease;
        }

        label {
            margin-bottom: 10px;
            color: #495057;
            transition: color 0.5s ease;
        }

        input,
        button,
        select {
            padding: 10px;
            margin-bottom: 20px;
            box-sizing: border-box;
            border: 1px solid #ced4da;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        button {
            background-color: #007bff;
            color: #fff;
            cursor: pointer;
        }

        button:hover {
            background-color: #0056b3;
        }

        .hyperparameter-set {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
        }

        #advancedTrainingSection {
            display: none;
            animation: fadeIn 1s ease;
        }

        #hyperparameterInputContainer {
            margin-top: 10px;
        }

        #selectedHyperparameters {
            margin-bottom: 10px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
        .info-box {
            margin-left: 5px;
            cursor: pointer;
            color: #007bff;
}

    </style>
    </head>

    <body>
        <div class="container">
            <h1>YOLOv8 - Training from Pre-trained</h1>
            <form id="trainingForm">
                <!-- Basic Training Fields -->
                <label for="models">Choose your Pretrained model:</label>
                <select id="models">
                    <option value="models1">Project - Your project name</option>
                </select>
                <label for="epochs - Enter the number of epochs">Enter the number of Epochs:</label>
                <input type="number" id="epochs" name="epochs" required>

                <!-- Enable Advanced Training Button -->
                <button type="button" onclick="toggleAdvancedTraining()"
                    class="btn btn-primary">Enable Advanced
                    Training</button>

                <!-- Advanced Training Section -->
                <div id="advancedTrainingSection">
                    <h2>Advanced Training</h2>
                    <div style="display: flex; flex-direction: column;">
                        <!-- Hyperparameter Dropdown -->
                        <label for="hyperparameterDropdown">Select
                            Hyperparameters for advanced model training:</label>
                        <select id="hyperparameterDropdown">
                            <option value="project - Choose your project name">Project - Your project name</option>
                            <option value="name - Choose your experiment name">Name - Your experiment name</option>
                            <option value="patience - Epochs to wait for no observable improvement for early stopping of training">patience:Epochs to wait for no observable improvement for early stopping of training</option>
                            <option value="batch - Number of images per batch (-1 for AutoBatch)">batch - Number of images per batch (-1 for AutoBatch)</option>
                            <option value="imgsz - size of input images as integer">imgsz - size of input images as integer</option>
                            <option value="optimizer - Choose the optimizer to use, choices=[SGD, Adam, Adamax, AdamW, NAdam, RAdam, RMSProp, auto]">Optimizer - Choose the optimizer to use, choices=[SGD, Adam, Adamax, AdamW, NAdam, RAdam, RMSProp, auto]</option>
                            <option value="verbose - Choose whether to print verbose output ">Verbose - Choose whether to print verbose output</option>
                            <option value="seed - Choose the value of random seed for reproducibility">Seed - Choose the value of random seed for reproducibility</option>
                            <option value="val - Choose to validate/test during training" >Val - Choose to validate/test during training</option>
                            <option value="plots - Choose to save plots and images during train/val">Plots  - Choose to save plots and images during train/val</option>
                            <!-- Add more hyperparameters as needed -->
                        </select>

                        <!-- Add Selected Hyperparameters Button -->
                        <button type="button"
                            onclick="addSelectedHyperparameters()"
                            class="btn btn-secondary">Add Selected
                            Hyperparameters</button>
                    </div>

                    <!-- Hyperparameter Input Container -->
                    <div id="hyperparameterInputContainer"
                        style="    display: flex;
                justify-content: center;
                flex-direction: column;"></div>

                    <!-- Selected Hyperparameters Display -->
                    <div id="selectedHyperparameters"></div>

                    <!-- Submit Button -->
                </form>
                <a onclick="gatherFormData()" class="btn btn-success">Train
                    Model</a>

            </div>

            <!-- Include Bootstrap JavaScript via CDN -->
            <script
                src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
            <script>

        function toggleAdvancedTraining() {
            var advancedTrainingSection = document.getElementById("advancedTrainingSection");
            var buttonText = document.querySelector(".btn-primary");

            if (advancedTrainingSection.style.display === "none") {
                advancedTrainingSection.style.display = "block";
                buttonText.innerText = "Disable Advanced Training";
            } else {
                advancedTrainingSection.style.display = "none";
                buttonText.innerText = "Enable Advanced Training";
            }
        }

        function addSelectedHyperparameters() {
            var selectedHyperparameters = document.getElementById("hyperparameterDropdown").selectedOptions;
            var inputContainer = document.getElementById("hyperparameterInputContainer");
            var selectedHyperparametersDisplay = document.getElementById("selectedHyperparameters");

            // Check for duplicate hyperparameters
            var duplicates = Array.from(selectedHyperparameters).some((option) =>
                Array.from(inputContainer.children).some(
                    (child) => child.id === option.value + "Input"
                )
            );

            if (duplicates) {
                alert("Duplicate hyperparameter(s) found. Please select unique hyperparameters.");
                return;
            }

            // Display selected hyperparameters
            selectedHyperparametersDisplay.innerHTML = "Selected Hyperparameters: ";
            for (var i = 0; i < selectedHyperparameters.length; i++) {
                selectedHyperparametersDisplay.innerHTML += selectedHyperparameters[i].value + ", ";

                // Show input fields for selected hyperparameters if not already added
                if (!document.getElementById(selectedHyperparameters[i].value + "Input")) {
                    showHyperparameterInput(selectedHyperparameters[i].value);
                }
            }
        }

        function showHyperparameterInput(hyperparameterName, info) {
    var inputContainer = document.getElementById("hyperparameterInputContainer");

    // Create input field for the hyperparameter
    var inputField = document.createElement("input");
    inputField.type = "text";
    inputField.id = hyperparameterName + "Input";
    inputField.placeholder = "Enter value for " + hyperparameterName;

    inputContainer.appendChild(inputField);
}


        function gatherFormData() {
            var form = document.getElementById("trainingForm");
            var formData = new FormData(form);

            // Convert FormData to a plain object
            var formObject = {};
            formData.forEach(function (value, key) {
                formObject[key] = value;
            });

            // Include data from hyperparameterInputContainer
            var hyperparameterInputs = document.getElementById("hyperparameterInputContainer").getElementsByTagName("input");
            for (var i = 0; i < hyperparameterInputs.length; i++) {
                formObject[hyperparameterInputs[i].id.replace("Input", "")] = hyperparameterInputs[i].value;
            }

            // Now 'formObject' contains all input data
            console.log(formObject);

            // You can do further processing or send this data to a server
        }

    </script>
        </body>

    </html>